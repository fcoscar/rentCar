{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.execOnce = execOnce;\nexports.getLocationOrigin = getLocationOrigin;\nexports.getURL = getURL;\nexports.getDisplayName = getDisplayName;\nexports.isResSent = isResSent;\nexports.normalizeRepeatedSlashes = normalizeRepeatedSlashes;\nexports.loadGetInitialProps = loadGetInitialProps;\nexports.ST = exports.SP = exports.warnOnce = exports.isAbsoluteUrl = void 0;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction execOnce(fn) {\n  let used = false;\n  let result;\n  return function () {\n    if (!used) {\n      used = true;\n      result = fn(...arguments);\n    }\n\n    return result;\n  };\n} // Scheme: https://tools.ietf.org/html/rfc3986#section-3.1\n// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n\n\nconst ABSOLUTE_URL_REGEX = /^[a-zA-Z][a-zA-Z\\d+\\-.]*?:/;\n\nconst isAbsoluteUrl = url => ABSOLUTE_URL_REGEX.test(url);\n\nexports.isAbsoluteUrl = isAbsoluteUrl;\n\nfunction getLocationOrigin() {\n  const {\n    protocol,\n    hostname,\n    port\n  } = window.location;\n  return `${protocol}//${hostname}${port ? ':' + port : ''}`;\n}\n\nfunction getURL() {\n  const {\n    href\n  } = window.location;\n  const origin = getLocationOrigin();\n  return href.substring(origin.length);\n}\n\nfunction getDisplayName(Component) {\n  return typeof Component === 'string' ? Component : Component.displayName || Component.name || 'Unknown';\n}\n\nfunction isResSent(res) {\n  return res.finished || res.headersSent;\n}\n\nfunction normalizeRepeatedSlashes(url) {\n  const urlParts = url.split('?');\n  const urlNoQuery = urlParts[0];\n  return urlNoQuery // first we replace any non-encoded backslashes with forward\n  // then normalize repeated forward slashes\n  .replace(/\\\\/g, '/').replace(/\\/\\/+/g, '/') + (urlParts[1] ? `?${urlParts.slice(1).join('?')}` : '');\n}\n\nfunction loadGetInitialProps(App, ctx) {\n  return _loadGetInitialProps.apply(this, arguments);\n}\n\nfunction _loadGetInitialProps() {\n  _loadGetInitialProps = _asyncToGenerator(function* (App, ctx) {\n    if (process.env.NODE_ENV !== 'production') {\n      var ref;\n\n      if ((ref = App.prototype) == null ? void 0 : ref.getInitialProps) {\n        const message = `\"${getDisplayName(App)}.getInitialProps()\" is defined as an instance method - visit https://nextjs.org/docs/messages/get-initial-props-as-an-instance-method for more information.`;\n        throw new Error(message);\n      }\n    } // when called from _app `ctx` is nested in `ctx`\n\n\n    const res = ctx.res || ctx.ctx && ctx.ctx.res;\n\n    if (!App.getInitialProps) {\n      if (ctx.ctx && ctx.Component) {\n        // @ts-ignore pageProps default\n        return {\n          pageProps: yield loadGetInitialProps(ctx.Component, ctx.ctx)\n        };\n      }\n\n      return {};\n    }\n\n    const props = yield App.getInitialProps(ctx);\n\n    if (res && isResSent(res)) {\n      return props;\n    }\n\n    if (!props) {\n      const message = `\"${getDisplayName(App)}.getInitialProps()\" should resolve to an object. But found \"${props}\" instead.`;\n      throw new Error(message);\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (Object.keys(props).length === 0 && !ctx.ctx) {\n        console.warn(`${getDisplayName(App)} returned an empty object from \\`getInitialProps\\`. This de-optimizes and prevents automatic static optimization. https://nextjs.org/docs/messages/empty-object-getInitialProps`);\n      }\n    }\n\n    return props;\n  });\n  return _loadGetInitialProps.apply(this, arguments);\n}\n\nlet warnOnce = _ => {};\n\nif (process.env.NODE_ENV !== 'production') {\n  const warnings = new Set();\n\n  exports.warnOnce = warnOnce = msg => {\n    if (!warnings.has(msg)) {\n      console.warn(msg);\n    }\n\n    warnings.add(msg);\n  };\n}\n\nconst SP = typeof performance !== 'undefined';\nexports.SP = SP;\nconst ST = SP && ['mark', 'measure', 'getEntriesByName'].every(method => typeof performance[method] === 'function');\nexports.ST = ST;\n\nclass DecodeError extends Error {}\n\nexports.DecodeError = DecodeError;\n\nclass NormalizeError extends Error {}\n\nexports.NormalizeError = NormalizeError;\n\nclass PageNotFoundError extends Error {\n  constructor(page) {\n    super();\n    this.code = 'ENOENT';\n    this.message = `Cannot find module for page: ${page}`;\n  }\n\n}\n\nexports.PageNotFoundError = PageNotFoundError;\n\nclass MissingStaticPage extends Error {\n  constructor(page, message) {\n    super();\n    this.message = `Failed to load static file for page: ${page} ${message}`;\n  }\n\n}\n\nexports.MissingStaticPage = MissingStaticPage;\n\nclass MiddlewareNotFoundError extends Error {\n  constructor() {\n    super();\n    this.code = 'ENOENT';\n    this.message = `Cannot find the middleware module`;\n  }\n\n}\n\nexports.MiddlewareNotFoundError = MiddlewareNotFoundError;\nexports.warnOnce = warnOnce;","map":{"version":3,"mappings":"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","names":["execOnce","getLocationOrigin","getURL","getDisplayName","isResSent","normalizeRepeatedSlashes","loadGetInitialProps","fn","used","result","ABSOLUTE_URL_REGEX","isAbsoluteUrl","url","test","protocol","hostname","port","window","location","href","origin","substring","length","Component","displayName","name","res","finished","headersSent","urlParts","split","urlNoQuery","replace","slice","join","App","ctx","arguments","_asyncToGenerator","process","env","NODE_ENV","prototype","getInitialProps","message","Error","pageProps","props","Object","keys","console","warn","warnOnce","_","warnings","Set","msg","has","add","SP","performance","ST","every","method","DecodeError","NormalizeError","PageNotFoundError","constructor","page","code","MissingStaticPage","MiddlewareNotFoundError"],"sources":["../../../shared/lib/utils.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}